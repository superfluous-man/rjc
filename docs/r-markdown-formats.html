<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>29 R Markdown formats | R for Data Science (2e)</title>
<meta name="author" content="Hadley Wickham and Garrett Grolemund">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.6/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115082821-1');
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Data Science (2e)</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">Explore</li>
<li><a class="" href="explore-intro.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="data-visualisation.html"><span class="header-section-number">3</span> Data visualisation</a></li>
<li><a class="" href="workflow-basics.html"><span class="header-section-number">4</span> Workflow: basics</a></li>
<li><a class="" href="transform.html"><span class="header-section-number">5</span> Data transformation</a></li>
<li><a class="" href="workflow-scripts.html"><span class="header-section-number">6</span> Workflow: scripts</a></li>
<li><a class="" href="exploratory-data-analysis.html"><span class="header-section-number">7</span> Exploratory Data Analysis</a></li>
<li><a class="" href="workflow-projects.html"><span class="header-section-number">8</span> Workflow: projects</a></li>
<li class="book-part">Wrangle</li>
<li><a class="" href="wrangle-intro.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="tibbles.html"><span class="header-section-number">10</span> Tibbles</a></li>
<li><a class="" href="data-import.html"><span class="header-section-number">11</span> Data import</a></li>
<li><a class="" href="tidy-data.html"><span class="header-section-number">12</span> Tidy data</a></li>
<li><a class="" href="relational-data.html"><span class="header-section-number">13</span> Relational data</a></li>
<li><a class="" href="strings.html"><span class="header-section-number">14</span> Strings</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">15</span> Factors</a></li>
<li><a class="" href="dates-and-times.html"><span class="header-section-number">16</span> Dates and times</a></li>
<li class="book-part">Program</li>
<li><a class="" href="program-intro.html"><span class="header-section-number">17</span> Introduction</a></li>
<li><a class="" href="pipes.html"><span class="header-section-number">18</span> Pipes</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">19</span> Functions</a></li>
<li><a class="" href="vectors.html"><span class="header-section-number">20</span> Vectors</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">21</span> Iteration</a></li>
<li class="book-part">Model</li>
<li><a class="" href="model-intro.html"><span class="header-section-number">22</span> Introduction</a></li>
<li><a class="" href="model-basics.html"><span class="header-section-number">23</span> Model basics</a></li>
<li><a class="" href="model-building.html"><span class="header-section-number">24</span> Model building</a></li>
<li><a class="" href="many-models.html"><span class="header-section-number">25</span> Many models</a></li>
<li class="book-part">Communicate</li>
<li><a class="" href="communicate-intro.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">27</span> R Markdown</a></li>
<li><a class="" href="graphics-for-communication.html"><span class="header-section-number">28</span> Graphics for communication</a></li>
<li><a class="active" href="r-markdown-formats.html"><span class="header-section-number">29</span> R Markdown formats</a></li>
<li><a class="" href="r-markdown-workflow.html"><span class="header-section-number">30</span> R Markdown workflow</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/hadley/r4ds">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-markdown-formats" class="section level1" number="29">
<h1>
<span class="header-section-number">29</span> R Markdown formats<a class="anchor" aria-label="anchor" href="#r-markdown-formats"><i class="fas fa-link"></i></a>
</h1>
<div id="introduction-20" class="section level2" number="29.1">
<h2>
<span class="header-section-number">29.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-20"><i class="fas fa-link"></i></a>
</h2>
<p>So far you’ve seen R Markdown used to produce HTML documents. This chapter gives a brief overview of some of the many other types of output you can produce with R Markdown. There are two ways to set the output of a document:</p>
<ol style="list-style-type: decimal">
<li>
<p>Permanently, by modifying the YAML header:</p>
<div class="sourceCode" id="cb782"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb782-1"><a href="r-markdown-formats.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Viridis Demo"</span></span>
<span id="cb782-2"><a href="r-markdown-formats.html#cb782-2" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span></code></pre></div>
</li>
<li>
<p>Transiently, by calling <code><a href="https://rdrr.io/pkg/rmarkdown/man/render.html">rmarkdown::render()</a></code> by hand:</p>
<div class="sourceCode" id="cb783"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rmarkdown/man/render.html">render</a></span><span class="op">(</span><span class="st">"diamond-sizes.Rmd"</span>, output_format <span class="op">=</span> <span class="st">"word_document"</span><span class="op">)</span></code></pre></div>
<p>This is useful if you want to programmatically produce multiple types of
output.</p>
</li>
</ol>
<p>RStudio’s knit button renders a file to the first format listed in its <code>output</code> field. You can render to additional formats by clicking the dropdown menu beside the knit button.</p>
<div class="inline-figure"><img src="screenshots/rmarkdown-knit.png" width="206" style="display: block; margin: auto;"></div>
</div>
<div id="output-options" class="section level2" number="29.2">
<h2>
<span class="header-section-number">29.2</span> Output options<a class="anchor" aria-label="anchor" href="#output-options"><i class="fas fa-link"></i></a>
</h2>
<p>Each output format is associated with an R function. You can either write <code>foo</code> or <code>pkg::foo</code>. If you omit <code>pkg</code>, the default is assumed to be rmarkdown. It’s important to know the name of the function that makes the output because that’s where you get help. For example, to figure out what parameters you can set with <code>html_document</code>, look at <code><a href="https://rdrr.io/pkg/rmarkdown/man/html_document.html">?rmarkdown::html_document</a></code>.</p>
<p>To override the default parameter values, you need to use an expanded <code>output</code> field. For example, if you wanted to render an <code>html_document</code> with a floating table of contents, you’d use:</p>
<div class="sourceCode" id="cb784"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb784-1"><a href="r-markdown-formats.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb784-2"><a href="r-markdown-formats.html#cb784-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb784-3"><a href="r-markdown-formats.html#cb784-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb784-4"><a href="r-markdown-formats.html#cb784-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<p>You can even render to multiple outputs by supplying a list of formats:</p>
<div class="sourceCode" id="cb785"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb785-1"><a href="r-markdown-formats.html#cb785-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb785-2"><a href="r-markdown-formats.html#cb785-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb785-3"><a href="r-markdown-formats.html#cb785-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb785-4"><a href="r-markdown-formats.html#cb785-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb785-5"><a href="r-markdown-formats.html#cb785-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span><span class="at"> default</span></span></code></pre></div>
<p>Note the special syntax if you don’t want to override any of the default options.</p>
</div>
<div id="documents" class="section level2" number="29.3">
<h2>
<span class="header-section-number">29.3</span> Documents<a class="anchor" aria-label="anchor" href="#documents"><i class="fas fa-link"></i></a>
</h2>
<p>The previous chapter focused on the default <code>html_document</code> output. There are a number of basic variations on that theme, generating different types of documents:</p>
<ul>
<li><p><code>pdf_document</code> makes a PDF with LaTeX (an open source document layout
system), which you’ll need to install. RStudio will prompt you if you
don’t already have it.</p></li>
<li><p><code>word_document</code> for Microsoft Word documents (<code>.docx</code>).</p></li>
<li><p><code>odt_document</code> for OpenDocument Text documents (<code>.odt</code>).</p></li>
<li><p><code>rtf_document</code> for Rich Text Format (<code>.rtf</code>) documents.</p></li>
<li><p><code>md_document</code> for a Markdown document. This isn’t typically useful by
itself, but you might use it if, for example, your corporate CMS or
lab wiki uses markdown.</p></li>
<li><p><code>github_document</code>: this is a tailored version of <code>md_document</code>
designed for sharing on GitHub.</p></li>
</ul>
<p>Remember, when generating a document to share with decision makers, you can turn off the default display of code by setting global options in the setup chunk:</p>
<div class="sourceCode" id="cb786"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html">opts_chunk</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>For <code>html_document</code>s another option is to make the code chunks hidden by default, but visible with a click:</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb787-1"><a href="r-markdown-formats.html#cb787-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb787-2"><a href="r-markdown-formats.html#cb787-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb787-3"><a href="r-markdown-formats.html#cb787-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">code_folding</span><span class="kw">:</span><span class="at"> hide</span></span></code></pre></div>
</div>
<div id="notebooks" class="section level2" number="29.4">
<h2>
<span class="header-section-number">29.4</span> Notebooks<a class="anchor" aria-label="anchor" href="#notebooks"><i class="fas fa-link"></i></a>
</h2>
<p>A notebook, <code>html_notebook</code>, is a variation on a <code>html_document</code>. The rendered outputs are very similar, but the purpose is different. A <code>html_document</code> is focused on communicating with decision makers, while a notebook is focused on collaborating with other data scientists. These different purposes lead to using the HTML output in different ways. Both HTML outputs will contain the fully rendered output, but the notebook also contains the full source code. That means you can use the <code>.nb.html</code> generated by the notebook in two ways:</p>
<ol style="list-style-type: decimal">
<li><p>You can view it in a web browser, and see the rendered output. Unlike
<code>html_document</code>, this rendering always includes an embedded copy of
the source code that generated it.</p></li>
<li><p>You can edit it in RStudio. When you open an <code>.nb.html</code> file, RStudio will
automatically recreate the <code>.Rmd</code> file that generated it. In the future, you
will also be able to include supporting files (e.g. <code>.csv</code> data files), which
will be automatically extracted when needed.</p></li>
</ol>
<p>Emailing <code>.nb.html</code> files is a simple way to share analyses with your colleagues. But things will get painful as soon as they want to make changes. If this starts to happen, it’s a good time to learn Git and GitHub. Learning Git and GitHub is definitely painful at first, but the collaboration payoff is huge. As mentioned earlier, Git and GitHub are outside the scope of the book, but there’s one tip that’s useful if you’re already using them: use both <code>html_notebook</code> and <code>github_document</code> outputs:</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb788-1"><a href="r-markdown-formats.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb788-2"><a href="r-markdown-formats.html#cb788-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_notebook</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb788-3"><a href="r-markdown-formats.html#cb788-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">github_document</span><span class="kw">:</span><span class="at"> default</span></span></code></pre></div>
<p><code>html_notebook</code> gives you a local preview, and a file that you can share via email. <code>github_document</code> creates a minimal md file that you can check into git. You can easily see how the results of your analysis (not just the code) change over time, and GitHub will render it for you nicely online.</p>
</div>
<div id="presentations" class="section level2" number="29.5">
<h2>
<span class="header-section-number">29.5</span> Presentations<a class="anchor" aria-label="anchor" href="#presentations"><i class="fas fa-link"></i></a>
</h2>
<p>You can also use R Markdown to produce presentations. You get less visual control than with a tool like Keynote or PowerPoint, but automatically inserting the results of your R code into a presentation can save a huge amount of time. Presentations work by dividing your content into slides, with a new slide beginning at each first (<code>#</code>) or second (<code>##</code>) level header. You can also insert a horizontal rule (<code>***</code>) to create a new slide without a header.</p>
<p>R Markdown comes with three presentation formats built-in:</p>
<ol style="list-style-type: decimal">
<li><p><code>ioslides_presentation</code> - HTML presentation with ioslides</p></li>
<li><p><code>slidy_presentation</code> - HTML presentation with W3C Slidy</p></li>
<li><p><code>beamer_presentation</code> - PDF presentation with LaTeX Beamer.</p></li>
</ol>
<p>Two other popular formats are provided by packages:</p>
<ol style="list-style-type: decimal">
<li><p><code>revealjs::revealjs_presentation</code> - HTML presentation with reveal.js.
Requires the <strong>revealjs</strong> package.</p></li>
<li><p><strong>rmdshower</strong>, <a href="https://github.com/MangoTheCat/rmdshower" class="uri">https://github.com/MangoTheCat/rmdshower</a>, provides a
wrapper around the <strong>shower</strong>, <a href="https://github.com/shower/shower" class="uri">https://github.com/shower/shower</a>,
presentation engine</p></li>
</ol>
</div>
<div id="dashboards" class="section level2" number="29.6">
<h2>
<span class="header-section-number">29.6</span> Dashboards<a class="anchor" aria-label="anchor" href="#dashboards"><i class="fas fa-link"></i></a>
</h2>
<p>Dashboards are a useful way to communicate large amounts of information visually and quickly. Flexdashboard makes it particularly easy to create dashboards using R Markdown and a convention for how the headers affect the layout:</p>
<ul>
<li>Each level 1 header (<code>#</code>) begins a new page in the dashboard.</li>
<li>Each level 2 header (<code>##</code>) begins a new column.</li>
<li>Each level 3 header (<code>###</code>) begins a new row.</li>
</ul>
<p>For example, you can produce this dashboard:</p>
<div class="inline-figure"><img src="screenshots/rmarkdown-flexdashboard.png" width="75%" style="display: block; margin: auto;"></div>
<p>Using this code:</p>
<pre><code>---
title: "Diamonds distribution dashboard"
output: flexdashboard::flex_dashboard
---

```{r setup, include = FALSE}
library(ggplot2)
library(dplyr)
knitr::opts_chunk$set(fig.width = 5, fig.asp = 1/3)
```

## Column 1

### Carat

```{r}
ggplot(diamonds, aes(carat)) + geom_histogram(binwidth = 0.1)
```

### Cut

```{r}
ggplot(diamonds, aes(cut)) + geom_bar()
```

### Colour

```{r}
ggplot(diamonds, aes(color)) + geom_bar()
```

## Column 2

### The largest diamonds

```{r}
diamonds %&gt;% 
  arrange(desc(carat)) %&gt;% 
  head(100) %&gt;% 
  select(carat, cut, color, price) %&gt;% 
  DT::datatable()
```</code></pre>
<p>Flexdashboard also provides simple tools for creating sidebars, tabsets, value boxes, and gauges. To learn more about flexdashboard visit <a href="http://rmarkdown.rstudio.com/flexdashboard/" class="uri">http://rmarkdown.rstudio.com/flexdashboard/</a>.</p>
</div>
<div id="interactivity" class="section level2" number="29.7">
<h2>
<span class="header-section-number">29.7</span> Interactivity<a class="anchor" aria-label="anchor" href="#interactivity"><i class="fas fa-link"></i></a>
</h2>
<p>Any HTML format (document, notebook, presentation, or dashboard) can contain interactive components.</p>
<div id="htmlwidgets" class="section level3" number="29.7.1">
<h3>
<span class="header-section-number">29.7.1</span> htmlwidgets<a class="anchor" aria-label="anchor" href="#htmlwidgets"><i class="fas fa-link"></i></a>
</h3>
<p>HTML is an interactive format, and you can take advantage of that interactivity with <strong>htmlwidgets</strong>, R functions that produce interactive HTML visualisations. For example, take the <strong>leaflet</strong> map below. If you’re viewing this page on the web, you can drag the map around, zoom in and out, etc. You obviously can’t do that in a book, so rmarkdown automatically inserts a static screenshot for you.</p>
<div class="sourceCode" id="cb790"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-methods.html">setView</a></span><span class="op">(</span><span class="fl">174.764</span>, <span class="op">-</span><span class="fl">36.877</span>, zoom <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers</a></span><span class="op">(</span><span class="fl">174.764</span>, <span class="op">-</span><span class="fl">36.877</span>, popup <span class="op">=</span> <span class="st">"Maungawhau"</span><span class="op">)</span> </code></pre></div>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:70%;height:415.296px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[-36.877,174.764],16,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[-36.877,174.764,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"Maungawhau",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-36.877,-36.877],"lng":[174.764,174.764]}},"evals":[],"jsHooks":[]}</script><p>The great thing about htmlwidgets is that you don’t need to know anything about HTML or JavaScript to use them. All the details are wrapped inside the package, so you don’t need to worry about it.</p>
<p>There are many packages that provide htmlwidgets, including:</p>
<ul>
<li><p><strong>dygraphs</strong>, <a href="http://rstudio.github.io/dygraphs/" class="uri">http://rstudio.github.io/dygraphs/</a>, for interactive time
series visualisations.</p></li>
<li><p><strong>DT</strong>, <a href="http://rstudio.github.io/DT/" class="uri">http://rstudio.github.io/DT/</a>, for interactive tables.</p></li>
<li><p><strong>threejs</strong>, <a href="https://github.com/bwlewis/rthreejs" class="uri">https://github.com/bwlewis/rthreejs</a> for interactive 3d plots.</p></li>
<li><p><strong>DiagrammeR</strong>, <a href="http://rich-iannone.github.io/DiagrammeR/" class="uri">http://rich-iannone.github.io/DiagrammeR/</a> for diagrams
(like flow charts and simple node-link diagrams).</p></li>
</ul>
<p>To learn more about htmlwidgets and see a more complete list of packages that provide them visit <a href="http://www.htmlwidgets.org/" class="uri">http://www.htmlwidgets.org/</a>.</p>
</div>
<div id="shiny" class="section level3" number="29.7.2">
<h3>
<span class="header-section-number">29.7.2</span> Shiny<a class="anchor" aria-label="anchor" href="#shiny"><i class="fas fa-link"></i></a>
</h3>
<p>htmlwidgets provide <strong>client-side</strong> interactivity — all the interactivity happens in the browser, independently of R. On one hand, that’s great because you can distribute the HTML file without any connection to R. However, that fundamentally limits what you can do to things that have been implemented in HTML and JavaScript. An alternative approach is to use <strong>shiny</strong>, a package that allows you to create interactivity using R code, not JavaScript.</p>
<p>To call Shiny code from an R Markdown document, add <code>runtime: shiny</code> to the header:</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb791-1"><a href="r-markdown-formats.html#cb791-1" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Shiny Web App"</span></span>
<span id="cb791-2"><a href="r-markdown-formats.html#cb791-2" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb791-3"><a href="r-markdown-formats.html#cb791-3" aria-hidden="true" tabindex="-1"></a><span class="fu">runtime</span><span class="kw">:</span><span class="at"> shiny</span></span></code></pre></div>
<p>Then you can use the “input” functions to add interactive components to the document:</p>
<div class="sourceCode" id="cb792"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What is your name?"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"How old are you?"</span>, <span class="cn">NA</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></code></pre></div>
<p><img src="screenshots/rmarkdown-shiny.png" width="357" style="display: block; margin: auto;">
You can then refer to the values with <code>input$name</code> and <code>input$age</code>, and the code that uses them will be automatically re-run whenever they change.</p>
<p>I can’t show you a live shiny app here because shiny interactions occur on the <strong>server-side</strong>. This means that you can write interactive apps without knowing JavaScript, but you need a server to run them on. This introduces a logistical issue: Shiny apps need a Shiny server to be run online. When you run shiny apps on your own computer, shiny automatically sets up a shiny server for you, but you need a public facing shiny server if you want to publish this sort of interactivity online. That’s the fundamental trade-off of shiny: you can do anything in a shiny document that you can do in R, but it requires someone to be running R.</p>
<p>Learn more about Shiny at <a href="http://shiny.rstudio.com/" class="uri">http://shiny.rstudio.com/</a>.</p>
</div>
</div>
<div id="websites" class="section level2" number="29.8">
<h2>
<span class="header-section-number">29.8</span> Websites<a class="anchor" aria-label="anchor" href="#websites"><i class="fas fa-link"></i></a>
</h2>
<p>With a little additional infrastructure you can use R Markdown to generate a complete website:</p>
<ul>
<li><p>Put your <code>.Rmd</code> files in a single directory. <code>index.Rmd</code> will become
the home page.</p></li>
<li>
<p>Add a YAML file named <code>_site.yml</code> provides the navigation for the site.
For example:</p>
<pre><code>name: "my-website"
navbar:
  title: "My Website"
  left:
    - text: "Home"
      href: index.html
    - text: "Viridis Colors"
      href: 1-example.html
    - text: "Terrain Colors"
      href: 3-inline.html</code></pre>
</li>
</ul>
<p>Execute <code><a href="https://rdrr.io/pkg/rmarkdown/man/render_site.html">rmarkdown::render_site()</a></code> to build <code>_site</code>, a directory of files ready to deploy as a standalone static website, or if you use an RStudio Project for your website directory. RStudio will add a Build tab to the IDE that you can use to build and preview your site.</p>
<p>Read more at <a href="http://rmarkdown.rstudio.com/rmarkdown_websites.html" class="uri">http://rmarkdown.rstudio.com/rmarkdown_websites.html</a>.</p>
</div>
<div id="other-formats" class="section level2" number="29.9">
<h2>
<span class="header-section-number">29.9</span> Other formats<a class="anchor" aria-label="anchor" href="#other-formats"><i class="fas fa-link"></i></a>
</h2>
<p>Other packages provide even more output formats:</p>
<ul>
<li><p>The <strong>bookdown</strong> package, <a href="https://github.com/rstudio/bookdown" class="uri">https://github.com/rstudio/bookdown</a>,
makes it easy to write books, like this one. To learn more, read
<a href="https://bookdown.org/yihui/bookdown/"><em>Authoring Books with R Markdown</em></a>,
by Yihui Xie, which is, of course, written in bookdown. Visit
<a href="http://www.bookdown.org" class="uri">http://www.bookdown.org</a> to see other bookdown books written by the
wider R community.</p></li>
<li><p>The <strong>prettydoc</strong> package, <a href="https://github.com/yixuan/prettydoc/" class="uri">https://github.com/yixuan/prettydoc/</a>,
provides lightweight document formats with a range of attractive
themes.</p></li>
<li><p>The <strong>rticles</strong> package, <a href="https://github.com/rstudio/rticles" class="uri">https://github.com/rstudio/rticles</a>, compiles a
selection of formats tailored for specific scientific journals.</p></li>
</ul>
<p>See <a href="http://rmarkdown.rstudio.com/formats.html" class="uri">http://rmarkdown.rstudio.com/formats.html</a> for a list of even more formats. You can also create your own by following the instructions at <a href="http://rmarkdown.rstudio.com/developer_custom_formats.html" class="uri">http://rmarkdown.rstudio.com/developer_custom_formats.html</a>.</p>
</div>
<div id="learning-more-5" class="section level2" number="29.10">
<h2>
<span class="header-section-number">29.10</span> Learning more<a class="anchor" aria-label="anchor" href="#learning-more-5"><i class="fas fa-link"></i></a>
</h2>
<p>To learn more about effective communication in these different formats I recommend the following resources:</p>
<ul>
<li><p>To improve your presentation skills, I recommend
<a href="https://amzn.com/0321820800"><em>Presentation Patterns</em></a>, by Neal Ford,
Matthew McCollough, and Nathaniel Schutta. It provides a set of effective
patterns (both low- and high-level) that you can apply to improve your
presentations.</p></li>
<li><p>If you give academic talks, I recommend reading the <a href="https://github.com/jtleek/talkguide"><em>Leek group guide
to giving talks</em></a>.</p></li>
<li><p>I haven’t taken it myself, but I’ve heard good things about Matt
McGarrity’s online course on public speaking:
<a href="https://www.coursera.org/learn/public-speaking" class="uri">https://www.coursera.org/learn/public-speaking</a>.</p></li>
<li><p>If you are creating a lot of dashboards, make sure to read Stephen Few’s
<a href="https://amzn.com/0596100167">Information Dashboard Design: The Effective Visual Communication
of Data</a>. It will help you create dashboards
that are truly useful, not just pretty to look at.</p></li>
<li><p>Effectively communicating your ideas often benefits from some
knowledge of graphic design. <a href="http://amzn.com/0133966151"><em>The Non-Designer’s Design
Book</em></a> is a great place to start.</p></li>
</ul>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="graphics-for-communication.html"><span class="header-section-number">28</span> Graphics for communication</a></div>
<div class="next"><a href="r-markdown-workflow.html"><span class="header-section-number">30</span> R Markdown workflow</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-markdown-formats"><span class="header-section-number">29</span> R Markdown formats</a></li>
<li><a class="nav-link" href="#introduction-20"><span class="header-section-number">29.1</span> Introduction</a></li>
<li><a class="nav-link" href="#output-options"><span class="header-section-number">29.2</span> Output options</a></li>
<li><a class="nav-link" href="#documents"><span class="header-section-number">29.3</span> Documents</a></li>
<li><a class="nav-link" href="#notebooks"><span class="header-section-number">29.4</span> Notebooks</a></li>
<li><a class="nav-link" href="#presentations"><span class="header-section-number">29.5</span> Presentations</a></li>
<li><a class="nav-link" href="#dashboards"><span class="header-section-number">29.6</span> Dashboards</a></li>
<li>
<a class="nav-link" href="#interactivity"><span class="header-section-number">29.7</span> Interactivity</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#htmlwidgets"><span class="header-section-number">29.7.1</span> htmlwidgets</a></li>
<li><a class="nav-link" href="#shiny"><span class="header-section-number">29.7.2</span> Shiny</a></li>
</ul>
</li>
<li><a class="nav-link" href="#websites"><span class="header-section-number">29.8</span> Websites</a></li>
<li><a class="nav-link" href="#other-formats"><span class="header-section-number">29.9</span> Other formats</a></li>
<li><a class="nav-link" href="#learning-more-5"><span class="header-section-number">29.10</span> Learning more</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/hadley/r4ds/blob/master/rmarkdown-formats.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/hadley/r4ds/edit/master/rmarkdown-formats.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Data Science (2e)</strong>" was written by Hadley Wickham and Garrett Grolemund. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
